## 2.文字のエンコーディング，ファイルをincludeするメカニズム，コメントの文法
この短い章では，Stan言語における文字のコード化，ファイルを組み込むメカニズム，コメントする文法について説明しています。

### 2.1. 文字のコード化

#### Stanのファイル
Stanファイルの内容は，ASCII(半角英数字)でなければなりません。UTF-8でエンコードされたUnicodeのような拡張文字セットは,ファイル中の識別子や他の文字として使ってはいけません。

#### コメント
コメントの中身はコンパイラに無視されるので，どのような文字コード(例えばASCII，UTF-8，Latin1やBig5)を使って書いても構いません。コメント区切り文字自体は，ASCIIで書く必要があります。

### 2.2. Include
Stanは以下の書き方で，あるファイルに別のファイルを含めることができます。例えば，`std-normal.stan`というファイルが標準正規分布の（規格化定数を除いた）確率密度関数の対数を定義していたとしましょう。

```
functions {
  real std_normal_lpdf(vector y) {
    return -0.5 * y' * y;
  }
}
```

さらにまた，include文を使った以下のStanファイルも持っているとしましょう。

```
#include std-normal.stan
parameters {
  real y;
}
model {
  y ~ std_normal();
}
```

このStanファイルは，#include文が書かれた行を`std-normal.stan`ファイルの中身で置き換えたかのように振る舞います。すなわち、以下の単一のStanファイルが与えられたかのように振る舞います。

```
functions {
  real std_normal_lpdf(vector y) {
    return -0.5 * y' * y;
  }
}

parameters {
  real y;
}

model {
  y ~ std_normal();
}
```

読み込み側ファイルのどこにinclude文が置かれるか，また置き換えられるファイルの中身が何であるかについては，制限はありません。読み込む側のファイルに空白が追加されることもありません。

#### 再帰的include
再帰的includeは無視されます。例えば，`a.stan`というファイルが次のようなものだったとします。

```
#include b.stan
```

そして`b.stan`の中身が

```
#include a.stan
```

だったとします。このファイルを処理すると空になります。というのも，`a.stan`が`b.stan`をインクルードし，それが読もうとする`a.stan`は無視されるからで，警告が表示されます。

#### include path
Stanは，システムで定義された一連のPATH（複数のディレクトリ・フォルダ）を特定し，includeで指定されたファイルを探すメカニズムを提供しています。そのPATHの場所を先頭から順に探していき、最初に見つかったファイルがincludeされます。

### 2.3. コメント
StanはC++スタイルの行ごとのコメント，あるいはカッコ付きコメントをサポートしています。Stanファイルで空白が許されているところであれば，どこにコメントを入れても構いません。

#### 行ごとのコメント
二つのフォワードスラッシュ(`//`)の後に続くいかなる文字列も，スラッシュとともに無視されます。これは例えば，変数名に説明をつけるために使われたりします。

```
data {
  int<lower=0> N;  // 観測されたデータの数
  real y[N];  // 観測されたデータ
}
```

#### カッコ付きコメント
フォワードスラッシュとアスタリスクのペア(`/\*`)と，アスタリスクとフォワードスラッシュのペア(`\*/`)で囲まれたあらゆるテキストは，カッコ付きコメントとして無視されます。

### 2.4.空白
#### 空白の文字
空白文字(そしてそのアスキーコード)は空白(0x20),タブ(0x09)，キャリッジリターン(0x0D),そしてラインフィード(0x0A)です^[Linuxでは ラインフィードが改行に、Windowsでは キャリッジリターン+ラインフィードが改行に相当します。]。

#### 空白の中立性
Stanはこれらの空白文字を同じように扱います。特に，タブ，キャリッジリターン，ラインフィード，その他スペースなどでテキストを縦方向に揃えることは実行結果に影響しません。

#### 空白の位置
Stanファイルでは，文字の間に0以上の空白文字を置くことができます。例えば `a \* b` のようなバイナリ演算子の前後に，文の終わりを示すセミコロンの前に，丸カッコまたは角カッコの周辺に，関数の引数を区切るコンマの前後などに，いろいろな種類の空白文字を置くことができます。

識別子とリテラルは空白で区切ることができません。つまり，数字の`10000`を`10 000`と書いたり，識別子の`normal_lpdf`を`normal _ lpdf`と書くことは不適切です。
